(()=>{"use strict";function e(e,t){switch(function(){const e="fade-in--offscreen";let t=0;function n(t,n){t.forEach((t=>{const a=t.target;t.isIntersecting&&(a.classList.add("visible"),a.classList.remove(e),n.unobserve(a))}))}!function(){const a=document.querySelectorAll(".fade-in");if(0===a.length)return;t=0;const i=new IntersectionObserver(n,{rootMargin:"-50px 0px 0px 0px",threshold:0});a.forEach((t=>{t.classList.add(e),i.observe(t)}))}()}(),t){case"rsvp":!function(){const e=document.getElementById("rsvp-form"),t=e.querySelectorAll(".form-step");let n=1;function a(e,t){const n="adult"===e?"First Name":"Name",a="adult"===e?"adultFirstName[]":"childName[]",i="child"===e?'<div class="field"><label>Age</label>\n           <div class="number-field">\n             <input type="number" name="childAge[]" min="0" />\n             <div class="custom-spinner">\n               <button type="button" class="spin-up"></button>\n               <button type="button" class="spin-down"></button>\n             </div>\n           </div>\n         </div>':"";return`\n    <div class="${e}">\n      <h4>${e.charAt(0).toUpperCase()+e.slice(1)} #${t}</h4>\n      <div class="row${"adult"===e?" adult-wrapper":""}">\n        <div class="field">\n          <label>${n}</label>\n          <input type="text" name="${a}" />\n        </div>\n        ${"adult"===e?'<div class="field">\n              <label>Last Name</label>\n              <input type="text" name="adultLastName[]" />\n            </div>':i}\n        <div class="field trash">\n            <button type="button" class="remove" aria-label="Remove">\n      <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 29.625 27.462">\n        <g transform="translate(-0.188 -1.269)">\n          <path id="Path_544" data-name="Path 544" d="M22.572,27.981H7.428a2.163,2.163,0,0,1-2.163-2.163V6.346H24.735V25.817a2.163,2.163,0,0,1-2.163,2.163Z" fill="none" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"/>\n          <path id="Path_545" data-name="Path 545" d="M11.755,21.49V12.837" fill="none" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"/>\n          <path id="Path_546" data-name="Path 546" d="M18.245,21.49V12.837" fill="none" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"/>\n          <path id="Path_547" data-name="Path 547" d="M.938,6.346H29.063" fill="none" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"/>\n          <path id="Path_548" data-name="Path 548" d="M18.245,2.019h-6.49A2.163,2.163,0,0,0,9.591,4.183V6.346H20.409V4.183a2.163,2.163,0,0,0-2.163-2.163Z" fill="none" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"/>\n        </g>\n      </svg>\n    </button>\n          </div>\n      </div>\n    </div>`}function i(e){return`\n      <div class="activity" data-index="${e}">\n        <h4>Activity #${e}</h4>\n        <div class="row">\n          <div class="field">\n            <label>Choose an activity:</label>\n            <select name="activity[]">\n              <option value="biking">Biking</option>\n              <option value="kayaking">Kayaking</option>\n              <option value="hiking">Hiking</option>\n            </select>\n          </div>\n          <div class="field">\n            <label>Number of people</label>\n            <div class="number-field">\n              <input type="number" name="activityCount[]" min="1" />\n              <div class="custom-spinner">\n                <button type="button" class="spin-up"></button>\n                <button type="button" class="spin-down"></button>\n              </div>\n            </div>\n          </div>\n          <div class="field trash">\n            <button type="button" class="remove" aria-label="Remove">\n      <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 29.625 27.462">\n        <g transform="translate(-0.188 -1.269)">\n          <path id="Path_544" data-name="Path 544" d="M22.572,27.981H7.428a2.163,2.163,0,0,1-2.163-2.163V6.346H24.735V25.817a2.163,2.163,0,0,1-2.163,2.163Z" fill="none" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"/>\n          <path id="Path_545" data-name="Path 545" d="M11.755,21.49V12.837" fill="none" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"/>\n          <path id="Path_546" data-name="Path 546" d="M18.245,21.49V12.837" fill="none" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"/>\n          <path id="Path_547" data-name="Path 547" d="M.938,6.346H29.063" fill="none" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"/>\n          <path id="Path_548" data-name="Path 548" d="M18.245,2.019h-6.49A2.163,2.163,0,0,0,9.591,4.183V6.346H20.409V4.183a2.163,2.163,0,0,0-2.163-2.163Z" fill="none" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"/>\n        </g>\n      </svg>\n    </button>\n          </div>\n        </div>\n      </div>`}function o(e){const t=e.querySelector("input");e.querySelector(".spin-up")?.addEventListener("click",(()=>t.stepUp())),e.querySelector(".spin-down")?.addEventListener("click",(()=>t.stepDown()))}function r(e){t.forEach((t=>{window.scrollTo({top:0});const n=t.getAttribute("data-step")==e;t.style.display=n?"block":"none",t.querySelectorAll("input, select, textarea").forEach((e=>{n&&"true"===e.dataset.originalRequired?e.setAttribute("required",""):!n&&e.hasAttribute("required")&&(e.dataset.originalRequired="true",e.removeAttribute("required"))}))})),n=e}e.addEventListener("click",(function(t){if(t.target.matches('[data-response="yes"]'))document.getElementById("attending").value="yes",r(2);else if(t.target.matches('[data-response="no"]'))document.getElementById("attending").value="no",r("sorry");else if(t.target.classList.contains("back"))r(3===n?2:1);else if(t.target.classList.contains("next"))r(3);else if(t.target.classList.contains("add-adult")){const t=e.querySelectorAll("#adults .adult").length+1,n=document.createElement("div");n.innerHTML=a("adult",t),e.querySelector("#adults").appendChild(n)}else if(t.target.classList.contains("add-child")){const t=e.querySelectorAll("#children .child").length+1,n=document.createElement("div");n.innerHTML=a("child",t),e.querySelector("#children").appendChild(n),n.querySelectorAll(".number-field").forEach(o)}else if(t.target.closest(".remove")){const n=t.target.closest(".adult, .child, .activity");n&&n.remove(),function(){const t=e.querySelector("#pnw-activities .activity-wrapper");t&&t.querySelectorAll(".activity").forEach(((e,t)=>{const n=e.querySelector("h4");n&&(n.textContent=`Activity #${t+1}`)}))}()}else if(t.target.classList.contains("add-activity")){const t=e.querySelector("#pnw-activities .activity-wrapper"),n=i(t.children.length+1);t.insertAdjacentHTML("beforeend",n),o(t.lastElementChild)}else if("pnwFunDay"===t.target.name&&"radio"===t.target.type){const n=e.querySelector("#pnw-activities"),a=n.querySelector(".activity-wrapper");if("yes"===t.target.value){if(n.style.display="block",!a.querySelector(".activity")){const e=i(1);a.insertAdjacentHTML("beforeend",e),o(a.lastElementChild)}}else n.style.display="none",a.innerHTML=""}})),e.addEventListener("submit",(async function(t){t.preventDefault(),e.querySelectorAll(".form-step").forEach((e=>{"none"===e.style.display&&e.querySelectorAll("[required]").forEach((e=>{e.removeAttribute("required")}))}));let n={};const a=document.getElementById("attending").value;if("no"===a){const t=e.querySelector('input[name="notAttendingfirstName"]'),a=e.querySelector('input[name="notAttendinglastName"]');if(!t.value.trim()||!a.value.trim())return alert("Please enter your first and last name."),void t.focus();n={attending:"no",notAttendingfirstName:t.value.trim(),notAttendinglastName:a.value.trim()}}else"yes"===a&&(n={attending:"yes",firstName:e.querySelector('input[name="firstName"]')?.value||"",lastName:e.querySelector('input[name="lastName"]')?.value||"",email:e.querySelector('input[name="email"]')?.value||"",phone:e.querySelector('input[name="phone"]')?.value||"",pnwFunDay:"block"===e.querySelector("#pnw-activities").style.display?"yes":"no",adults:Array.from(e.querySelectorAll("#adults .adult")).map((e=>({firstName:e.querySelector('input[name="adultFirstName[]"]')?.value||"",lastName:e.querySelector('input[name="adultLastName[]"]')?.value||""}))),children:Array.from(document.querySelectorAll("#children .child")).map((e=>({name:e.querySelector('input[name="childName[]"]')?.value||"",age:e.querySelector('input[name="childAge[]"]')?.value||""}))),activities:"block"===e.querySelector("#pnw-activities").style.display?Array.from(e.querySelectorAll("#pnw-activities .activity")).map((e=>({type:e.querySelector('select[name="activity[]"]')?.value||"",count:e.querySelector('input[name="activityCount[]"]')?.value||""}))):[],events:{welcome:e.querySelector('input[name="welcome"]:checked')?.value||"",ceremony:e.querySelector('input[name="ceremony"]:checked')?.value||"",brunch:e.querySelector('input[name="brunch"]:checked')?.value||""},otherDetails:e.querySelector('textarea[name="otherDetails"]')?.value||""});try{await fetch("https://script.google.com/macros/s/AKfycbwrzD5O4pv05Ci3axeHel60bDbkV49okzaD6E9pXGUMAONsoHh3Y8k1UzBfZeS9qbZ21g/exec",{method:"POST",body:JSON.stringify(n),mode:"no-cors",headers:{"Content-Type":"application/json"}});const t=document.querySelector(".rsvp");e.classList.add("fading-out"),setTimeout((()=>{e.remove();const n=document.createElement("div");n.className="form-success",n.innerHTML="<h2>Thank you! Your RSVP has been submitted. ðŸŽ‰</h2>",t.appendChild(n),requestAnimationFrame((()=>{n.classList.add("show")}))}),400)}catch(e){console.error(e),alert("There was an error submitting the form. Please try again.")}})),document.querySelectorAll(".number-field").forEach(o)}();break;case"home":const t=e.querySelector("dotlottie-player"),n=e.querySelector(".lottie");t&&n&&t.addEventListener("complete",(()=>{n.classList.add("move-up"),n.addEventListener("transitionend",(()=>n.remove()),{once:!0})}))}}document.querySelector("body"),document.querySelector(".primary-links"),document.querySelector("nav").offsetHeight,document.querySelector(".icon.nav"),document.addEventListener("DOMContentLoaded",(function(){!function(){const e=document.getElementById("background-audio");document.querySelector(".home");let t=!1;document.body.addEventListener("click",(()=>{t||e.play().then((()=>{console.log("Audio playing on hover."),t=!0})).catch((()=>{console.log("Autoplay blocked. Waiting for interaction.")}))}),{once:!0})}();const t=document.querySelector("main").dataset.barbaNamespace;e(document,t)})),barba.init({transitions:[{name:"opacity-transition",leave:e=>gsap.to(e.current.container,{opacity:0}),enter:e=>gsap.from(e.next.container,{opacity:0}),afterEnter(t){const n=t.next.container,a=n.dataset.bodyClass;document.body.className=a||"",e(n,n.dataset.barbaNamespace)}}]})})();